{% extends 'base.html.twig' %}

{% block title %}Formulaire de commentaire sur un événement{% endblock %}

{% block body %}

<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

  {% for message in app.flashes('danger') %}
      <div class="alert alert-danger" role="alert">
          {{ message }}
      </div>
  {% endfor %}

{% if app.user %}
      <h4 class = "mb-4">{{ app.user.name }} commentez l'événement :
      <br>{{ event.name }}</h4>
{% endif %}

      <div class="row">

        {{ form_start (form, {attr: {'novalidate': 'novalidate'}}) }}
        {{ form_end (form)}}

      </div> 

        {% if vich_uploader_asset (event, 'pictureFile') %}
              <img class="img-fluid w-100 border-radius" src="{{ vich_uploader_asset (event, 'pictureFile') | imagine_filter ('event_picture_300') }}" alt="{{ event.name }}" />
          {% else %}
              <img class="img-fluid w-100 border-radius" src="{{ vich_uploader_asset (event, 'pictureFile') ?: '/upload/default_picture/default_event.jpg' | imagine_filter ('event_picture_300') }}" alt="{{ event.name }}" />
        {% endif %}
           
</div>
{% endblock %}
